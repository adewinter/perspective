<!DOCTYPE html>
<html lang="en">
    <head>
        <title>three.js webgl - portal</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <link href="css/main.css" rel="stylesheet">
        
        <!-- Import maps polyfill -->
        <!-- Remove this when import maps will be widely supported -->
        <script async src="https://unpkg.com/es-module-shims@1.3.6/dist/es-module-shims.js"></script>

        <!-- Require the peer dependencies of pose-detection. -->
        <script src="headtracking/tfjs-core.js"></script>
        <script src="headtracking/tfjs-converter.js"></script>

        <!-- You must explicitly require a TF.js backend if you're not using the TF.js union bundle. -->
        <script src="headtracking/tfjs-backend-webgl.js"></script>

        <script src="headtracking/Stats.min.js"></script>


         <script src="https://cdn.jsdelivr.net/npm/@mediapipe/pose/pose.js"></script>
        <script src="headtracking/pose-detection.js"></script>

        <script type="importmap">
            {
                "imports": {
                    "three": "./node_modules/three/build/three.module.js",
                    "pose": "./node_modules/@mediapipe/pose"

                }
            }
        </script>

    </head>
    <body>
    <div id="stats"></div>
    <div id="position">
        <div id="posx">Raw x: <pre></pre></div>
        <div id="posy">Raw y: <pre></pre></div>
        <div id="posz">Raw z: <pre></pre></div>
        <div id="calcz">Est z: <pre></pre></div>
    </div>
    <div id="position3d">
        <div id="posx3d">3D x: <pre></pre></div>
        <div id="posy3d">3D y: <pre></pre></div>
        <div id="posz3d">3D z: <pre></pre></div>
        <div id="calcz3d">Est z: <pre></pre></div>
    </div>
    <div>
        <div>world_Cam: <pre id="worldCamPos">foo</pre></div>
        <div>refplane_Cam: <pre id="refMeshCamPos">bar</pre></div>
        <div>portal_Cam: <pre id="portalCamPos">bash</pre></div>
    </div>

    <div id="main">
        <div class="container">
          <div class="canvas-wrapper">
            <canvas id="output"></canvas>
            <video id="video" playsinline style="
              -webkit-transform: scaleX(-1);
              transform: scaleX(-1);
              visibility: hidden;
              width: auto;
              height: auto;
              ">
            </video>
          </div>
          
        </div>
    </div>
    <div id="container"></div>
<script src="headtracking/headtracking.js" type="module"></script>
<script type="module" src="perspective.js"></script>
    </body>
</html>